function CerX(e,t,n,i){function o(){Le=q.offsetWidth,Te=q.offsetHeight,j=ye/Le,$&&(Ee=$/Le),ve>1?T(1,10):xe?P():E(1,10)}function a(e){return"http://www.cwb.gov.tw/V7/observe/satellite/Data/s1p/s1p-"+X[e]+".jpg"}function s(){ge=Math.floor(48),ne.innerHTML="",ee.style.opacity=".1",ee.style.transition="opacity 1.6s",ee.style.opacity="";var e=ue[ge];ye=e.naturalWidth,we=e.naturalHeight,j=ye/Le,r(e),H(!1,1e3,33),setTimeout(function(){te.addEventListener("mousedown",h),te.addEventListener("touchstart",h),te.addEventListener("dblclick",v),te.addEventListener("mousewheel",b),te.addEventListener("DOMMouseScroll",x),te.addEventListener("contextmenu",L),ie.style.opacity=.2,ie.className="blink",oe.style.bottom="0",pe=!0},600),setTimeout(function(){B=!0},3e3)}function r(e){e.naturalWidth&&(se.width=e.naturalWidth,se.height=e.naturalHeight,re.drawImage(e,0,0))}function c(){B&&(B=!1,setTimeout(function(){ie.style.opacity=0,ie.className=""},200))}function u(){S&&clearTimeout(S)}function d(e){J*J+K*K>e&&u()}function l(e,t){t&&(J=e.pageX-V,K=e.pageY-G),V=e.pageX,G=e.pageY}function h(e){if(pe)if(J=0,K=0,fe=!1,me=ge+.5,null==e.touches)e.preventDefault(),l(e,!1),S=setTimeout(v,1400,e),document.addEventListener("mousemove",p),document.addEventListener("mouseup",f),document.addEventListener("mouseout",f);else if(e.touches.length<=2){if(1==e.touches.length){var t=e.targetTouches[0];l(t,!1),Z=0,S=setTimeout(v,1400,t)}else{var t=e.targetTouches[0],n=e.targetTouches[1],i=n.pageX-t.pageX,o=n.pageY-t.pageY;V=.5*(t.pageX+n.pageX),G=.5*(t.pageY+n.pageY),Z=Math.sqrt(i*i+o*o),u()}document.addEventListener("touchmove",p),document.addEventListener("touchend",f),document.addEventListener("touchcancel",f)}else u()}function p(e){if(null==e.touches)l(e,!0),d(2),m();else if(1==e.touches.length){e.preventDefault();var t=e.targetTouches[0];l(t,!0),d(12),m()}else if(2==e.touches.length){e.preventDefault();var t=e.targetTouches[0],n=e.targetTouches[1],i=.5*(t.pageX+n.pageX),o=.5*(t.pageY+n.pageY),a=n.pageX-t.pageX,s=n.pageY-t.pageY;J=i-V,K=o-G,V=i,G=o,U=Math.sqrt(a*a+s*s),4*(U-Z)*(U-Z)>J*J+K*K?(be=ve*(U/Z),U>Z?be>1.5*Ee&&(be=1.5*Ee):.96>be&&(be=.96),T(be,1)):m(),Z=U}}function f(e){u(),null==e.touches?(this.removeEventListener("mousemove",p),this.removeEventListener("mouseup",f),this.removeEventListener("mouseout",f)):(this.removeEventListener("touchmove",p),this.removeEventListener("touchend",f),this.removeEventListener("touchcancel",f)),1==ve?xe?P():Math.abs(J)>9&&Math.abs(J)>Math.abs(K)?H(0>J,1e3,Math.abs(1200/J)):Math.abs(K)>9&&Math.abs(K)>Math.abs(J)&&(pe=!1,H(0>K,Math.floor(36),10)):w()}function m(){ve>1?M():xe?P():K*K>3*J*J?(window.scrollBy(0,-K),G-=K):k()}function g(e,t){var n=Math.floor(Math.floor(e/t)*t*(1+t)/t)*t;return n>Ee?Ee:n}function v(e){l(e,!1),Ee>ve?T(g(ve,.5),400):T(1,800)}function b(e){e.preventDefault(),pe&&(l(e,!1),y(.002*e.wheelDelta))}function x(e){e.preventDefault(),pe&&(l(e,!1),y(.08*-e.detail))}function y(e){u(),_&&clearTimeout(_),U=e,Z=Math.abs(e),Z>1&&(Z=1),U>0?(be=ve*(1+Z),be>1.5*Ee&&(be=1.5*Ee)):(be=ve/(1+Z),.96>be&&(be=.96)),T(be,400*Z),_=setTimeout(w,400)}function w(){1.12>ve?T(1,400):ve>Ee&&T(Ee,400)}function L(){u(),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",f),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",f)}function T(e,t,n){if(fe=!1,xe&&P(),ve!=e){if(pe=!1,c(),1==e)Q=0,R=0;else{var i=e/ve,o=V-q.offsetLeft,s=G-q.offsetTop;Q=(o-ee.offsetLeft)*i-o,R=(s-ee.offsetTop)*i-s}if(E(e,t),O=setTimeout(function(){ee.style.transition=""},t),ve=e,1>=ve)ne.innerHTML="",se.width!=ye&&r(ue[ge]);else if(se.width==ye){if(ve>1.2){var u=de[ge];u?u.complete&&r(u):(de[ge]=new Image,u=de[ge],u.src=a(ge),u.setAttribute("n",ge),u.onload=function(){const e=parseInt(this.getAttribute("n"));e==ge&&ve>1.2&&(ne.innerHTML="",r(this)),void 0==$&&($=this.naturalWidth,Ee=$/Le)})}1.6>ve?""!=ne.innerHTML&&(ne.innerHTML=""):ve>1.9&&""==ne.innerHTML&&(ne.innerHTML=D)}n||setTimeout(function(){pe=!0},t)}}function M(){0>J?Q+=64+4096/(J-64):Q-=64-4096/(J+64),0>K?R+=64+4096/(K-64):R-=64-4096/(K+64),E(ve)}function E(e,t){var n=(e-1)*Le,i=(e-1)*Te;e>=1?(0>Q?Q=0:Q>n&&(Q=n),0>R?R=0:R>i&&(R=i)):(Q>0?Q=0:n>Q&&(Q=n),R>0?R=0:i>R&&(R=i)),t&&(O&&clearTimeout(O),ee.style.transition="all "+.001*t+"s",ee.style.width=Math.round(Le*e)+"px",ee.style.height=Math.round(Te*e)+"px"),ee.style.left=Math.round(-Q)+"px",ee.style.top=Math.round(-R)+"px"}function k(){0>J?me-=1+6/(J-6):me+=1-6/(J+6),me>=I?me%=I:0>me&&(me=I+me%I),C(Math.floor(me))}function C(e){e!=ge&&(ge=e,ue[e]&&ue[e].complete&&re.drawImage(ue[e],0,0),c())}function H(e,t,n,i){fe=!0,setTimeout(function(){e?(0==ge&&(ge=I),C(ge-1)):(71==ge&&(ge=-1),C(ge+1)),n=83>n?1.06*n:83,t>1?fe&&H(e,t-1,n,i):(fe=!1,i?F(i):pe=!0)},Math.round(n))}function F(e){var t=document.createElement("div"),n=le[e],i=n.r,o=n.x,a=n.y,s=n.info,r=0;.05>i?i=.05:i>.2&&(i=.2);const c=Math.round(i*Me),u=Math.round(o*Le),d=Math.round(a*Te),l=(20*(1-j)*i+4*j-1)/3,h=Le*(l-1),p=Te*(l-1);var f=ee.firstChild,m=f.cloneNode();ctx=m.getContext("2d"),ee.appendChild(m),ctx.save(),ctx.beginPath(),ctx.arc(u*j,d*j,c*j,0,2*Math.PI),ctx.clip(),ctx.drawImage(f,0,0),ctx.restore(),ctx.lineWidth=4*j/l,ctx.strokeStyle="rgba(255,255,255,.5)",ctx.stroke(),f.style.cssText+="-webkit-filter:blur(8px) invert(15%);filter:blur(8px) invert(15%)",Q=h*o,R=p*a,o>.5?(r=l*(Le-u-c),h-Q>r&&(Q=h)):(r=l*(u-c),Q>r&&(Q=r)),a>.5?(r=l*(Te-d-c),p-R>r&&(R=p)):(r=l*(d-c),R>r&&(R=r)),E(l,1600),t.className="eigenPtInfo",q.appendChild(t),t.innerHTML=s,b_high=a>.5?l*(d-c)-R:Te+R-l*(d+c),r=b_high-t.offsetHeight-18,12>r?(a>.5?t.style.top="0":t.style.bottom="0",t.style.height=b_high-18+"px",t.style.overflowY="scroll"):a>.5?t.style.top=r+"px":t.style.bottom=r+"px",t.style.left=o*(Le-t.offsetWidth)+"px",setTimeout(function(){pe=!0},500)}function P(){E(1,600),ee.childElementCount>1&&(ee.lastChild.remove(),ee.firstChild.style.cssText=N,xe=0),q.childElementCount>4&&q.lastChild.remove(),oe.style.bottom="0"}const z=!!("ontouchstart"in window),A=navigator.language,I=72,X=t,Y='<svg viewBox="0 0 720 720"><circle fill="#FFF" cx="360" cy="360" r="360"/><g id="cqs2"><path id="cqs1" fill="#AAA" d="M253.93,381.21L116.92,518.23c10.81,16.57,23.47,32.28,38.02,46.83c91.03,91.03,227.53,108.87,336.4,53.56L253.93,381.21z"/><use xlink:href="#cqs1" transform="rotate(180,360,360)"/></g><use xlink:href="#cqs2" transform="rotate(90,360,360)"/><circle cx="360" cy="360" r="340" fill="none" stroke="#AAA" stroke-width="40"/></svg>',D='<svg viewBox="0 0 96 96"><circle cx="48" cy="48" fill="#888"><animate attributeName="r" from="6" to="48" dur="1.5s" repeatCount="indefinite"/><animate attributeName="opacity" from=".8" to="0" dur="1.5s" repeatCount="indefinite"/></circle></svg>',N="position:absolute;width:100%;height:100%;",W=z?["左右滑動調整時間","Swipe for changing time"]:["拖曳進行以調整時間","Drag for changing time"];var q=document.getElementById(e);q.style.cssText="position:relative;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;max-width:800px;text-align:center;font:18px Helvetica,STHeiti,sans-serif;";var B,S,_,O,j,V,G,J,K,Q,R,U,Z,$,ee=document.createElement("div"),te=document.createElement("div"),ne=document.createElement("div"),ie=document.createElement("p"),oe=document.createElement("div"),ae=document.createElement("a"),se=document.createElement("canvas"),re=se.getContext("2d"),ce=document.createElement("style"),ue=new Array(I),de=new Array(I),le=[0],he=[],pe=!1,fe=!1,me=0,ge=0,ve=1,be=1,xe=0,ye=0,we=0,Le=q.offsetWidth,Te=q.offsetHeight,Me=Math.max(Le,Te),Ee=3;q.appendChild(te),te.appendChild(ne),te.appendChild(ie),q.appendChild(oe),q.appendChild(ee),ee.appendChild(se),ne.style.top=.5*Te-48+"px",ne.innerHTML=D,ie.innerHTML=0==A.indexOf("zh")?W[0]:W[1],ee.style.cssText=N+"left:0;top:0;text-align:left;opacity:.35",se.style.cssText=N,oe.style.bottom="-44px",oe.className="dashPod",te.className="ctrLayer",ce.innerHTML=".ctrLayer{position:absolute;top:0;width:100%;height:100%;z-index:2;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.ctrLayer:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.ctrLayer>div{position:relative;width:96px;height:96px;margin:auto;pointer-events:none}.ctrLayer p{position:absolute;top:0;width:100%;margin:0;padding:8px 0;opacity:0;background:#FFF;font-size:16px;transition:opacity 1s}.blink{animation:blink 4s infinite ease-in 1s;-webkit-animation:blink 4s infinite ease-in 1s}@keyframes blink{0%{opacity:.2}50%{opacity:.6}100%{opacity:.2}}@-webkit-keyframes blink{0%{opacity:.2}50%{opacity:.6}100%{opacity:.2}}.dashPod{position:absolute;width:100%;height:40px;opacity:.4;z-index:3;pointer-events:none;transition:bottom .6s}.dashPod:hover{opacity:.7}.dashPod>div{pointer-events:auto;cursor:pointer;float:left}.dashPod>div:first-child{margin-left:8px}.dashPod>div>p{width:10px;height:10px;background:rgba(128,128,128,.2);border-radius:50%;border:2px solid #FFF;box-shadow:0 2px 5px #999;margin:13px}.dashPod>div:hover>p{background:#FFF}.dashPod>a{pointer-events:auto;position:absolute;right:6px;width:36px;height:36px}.eigenPtInfo{position:absolute;box-sizing:border-box;border-radius:12px;max-width:70%;z-index:5;padding:10px;color:#222;text-shadow:0 1px 7px #FFF;background:rgba(255,255,255,.5)}",document.head.appendChild(ce);var ke=63;img1=new Image,img1.src=a(ke),img1.onload=function(){r(img1)},n.length>5&&(n=n.slice(0,5)),le=le.concat(n);const Ce=le.length-1;if(Ce>0)for(var He=0;Ce>He;He++)he[He]=document.createElement("div"),he[He].id=He+1,he[He].appendChild(document.createElement("p")),oe.appendChild(he[He]),he[He].onclick=function(){q.focusPoint(this.id)};return i&&(ae.innerHTML=Y,ae.href=i,ae.setAttribute("target","_blank"),oe.appendChild(ae)),window.addEventListener("resize",o),q.run=function(){function e(e,s){for(;n[e]!=i[e];n[e]+=2)ue[n[e]]=new Image,ue[n[e]].src=a(n[e]),ue[n[e]].onload=function(){t[e]++,t[e]==o[e]&&s()}}var t=[0,0,0,0,0,0],n=[48,0,18,55,1,19],i=[I,18,48,73,19,55],o=[9,8,13,7,7,16];e(0,function(){e(1,function(){s(),setTimeout(function(){e(2,function(){e(3,function(){e(4,function(){e(5,function(){ye||s()})})})})},800)})})},q.focusPoint=function(e){fe=!1,pe=!1,oe.style.bottom="-44px";const t=le[e].n-1,n=ve-1;setTimeout(function(){if(T(1,400*n,!0),t==ge)setTimeout(function(){F(e)},408*n);else{var i=t-ge;2*Math.abs(i)>I&&(i=0>i?i+I:i-I);var o=Math.abs(i),a=400*n-72*o-72;0>a&&(a=0),setTimeout(function(){H(0>i,o,64-2*o,e)},a)}xe=e},104)},q}